"use strict";(self.webpackChunkITCSIOS=self.webpackChunkITCSIOS||[]).push([[689],{5689:(bt,C,c)=>{c.r(C),c.d(C,{ServiciosModule:()=>Ut});var g=c(9808),p=c(1083),r=c(4999),l=c(8966),t=c(5e3),_=c(9632),f=c(5423),A=c(3954),u=c(7322),S=c(4107),x=c(508),v=c(7423);function Y(i,n){if(1&i&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e._id),t.xp6(1),t.hij(" ",e.name," ")}}function D(i,n){if(1&i&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}let q=(()=>{class i{constructor(e,o,a,s){this.socketWebService=e,this.ServicesByStatusService=o,this.dialogRef=a,this.data=s,this.UserSite_selected="",this.Severities_selected=""}ngOnInit(){this.cargarUsersSite(),this.cargarSeverities(),console.log(this.data)}AsignarServicio(e,o,a){this.DataService={from:localStorage.getItem("IdAdmin")||"",to:a,service:e,severity:o,depto:e.report.department.user},console.log(this.DataService),this.socketWebService.asignarServicio(this.DataService),window.location.reload()}cargarUsersSite(){this.ServicesByStatusService.Get_ActiveUsersAPI().subscribe(e=>{this.UsersSite=e.users})}cargarSeverities(){this.ServicesByStatusService.Get_SeveritiesAPI().subscribe(e=>{this.Severities=e.severities})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.m),t.Y36(f.R),t.Y36(l.so),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-modal-del-servicio"]],decls:49,vars:15,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"sect","sub"],[1,"sect"],[1,"assign"],["cols","2","rowHeight","70px"],[3,"colspan","rowspan"],["appearance","fill",1,"select"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"actions"],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary","mat-dialog-close","",3,"click"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div"),t.TgZ(2,"h1",1),t._uU(3),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"h4"),t._uU(8,"Categoria:"),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"div",4),t.TgZ(12,"h4"),t._uU(13,"Fecha y hora:"),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",5),t.TgZ(17,"h2"),t._uU(18,"Descripci\xf3n:"),t.qZA(),t.TgZ(19,"h3"),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"div",5),t.TgZ(22,"h2"),t._uU(23,"Departamento:"),t.qZA(),t.TgZ(24,"h3"),t._uU(25),t.qZA(),t.TgZ(26,"h2"),t._uU(27,"Ubicaci\xf3n:"),t.qZA(),t.TgZ(28,"h3"),t._uU(29),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",6),t.TgZ(31,"mat-grid-list",7),t.TgZ(32,"mat-grid-tile",8),t.TgZ(33,"mat-form-field",9),t.TgZ(34,"mat-label"),t._uU(35,"Chico servicio a asignar"),t.qZA(),t.TgZ(36,"mat-select",10),t.NdJ("valueChange",function(s){return o.UserSite_selected=s}),t.YNc(37,Y,2,2,"mat-option",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"mat-grid-tile",8),t.TgZ(39,"mat-form-field",9),t.TgZ(40,"mat-label"),t._uU(41,"Nivel de Severidad"),t.qZA(),t.TgZ(42,"mat-select",10),t.NdJ("valueChange",function(s){return o.Severities_selected=s}),t.YNc(43,D,2,2,"mat-option",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div",12),t.TgZ(45,"button",13),t._uU(46,"Cerrar"),t.qZA(),t.TgZ(47,"button",14),t.NdJ("click",function(){return o.AsignarServicio(o.data,o.Severities_selected,o.UserSite_selected)}),t._uU(48,"Asignar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.hij("",o.data.report.title," "),t.xp6(7),t.Oqu(o.data.report.category),t.xp6(5),t.AsE("",o.data.createdAt.toString().slice(0,10),", ",o.data.createdAt.toString().slice(11,16),""),t.xp6(5),t.Oqu(o.data.report.description),t.xp6(5),t.Oqu(o.data.report.department.name),t.xp6(4),t.Oqu(o.data.report.department.ubication),t.xp6(3),t.Q6J("colspan",1)("rowspan",1),t.xp6(4),t.Q6J("value",o.UserSite_selected),t.xp6(1),t.Q6J("ngForOf",o.UsersSite),t.xp6(1),t.Q6J("colspan",1)("rowspan",1),t.xp6(4),t.Q6J("value",o.Severities_selected),t.xp6(1),t.Q6J("ngForOf",o.Severities))},directives:[l.uh,l.xY,A.Il,A.DX,u.KE,u.hX,S.gD,g.sg,x.ey,l.H8,v.lW,l.ZT],styles:[".sect[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}h2[_ngcontent-%COMP%]{margin-bottom:0}.assign[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-self:flex-end}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:95%;justify-content:space-between}h1[_ngcontent-%COMP%]{font-size:42px;font-weight:600;margin-top:32px}h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:32px}.actions[_ngcontent-%COMP%]{align-self:flex-end}"]}),i})();var d=c(3075),y=c(7431),N=c(8029);function I(i,n){if(1&i&&(t.TgZ(0,"div",11),t.TgZ(1,"h3"),t._uU(2,"Evidencia:"),t.qZA(),t._UZ(3,"img",12),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("src",e.data.evidenceImage,t.LSH)}}function P(i,n){1&i&&(t.TgZ(0,"h3",13),t.TgZ(1,"i"),t._uU(2,"Sin Evidencia"),t.qZA(),t.qZA())}let U=(()=>{class i{constructor(e,o,a,s,m,T){this.socketWebService=e,this.router=o,this.registraUsuarioService=a,this.fb=s,this.dialogRef=m,this.data=T,this.RegisForm=this.fb.group({calidad:d.kI.required,dificultad:d.kI.required})}ngOnInit(){}calificarServicio(){this.grade={dificulty:this.RegisForm.value.dificultad,quality:this.RegisForm.value.calidad},console.log(this.grade),this.socketWebService.calificarServicio(this.grade,this.data._id),window.location.reload()}formatLabel(e){return e>=1e3?Math.round(e/1e3)+"k":e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.m),t.Y36(p.F0),t.Y36(y.j),t.Y36(d.qu),t.Y36(l.so),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-calificar"]],decls:37,vars:9,consts:[[1,"container"],[1,"top"],[1,"sect"],["class","evidence sect",4,"ngIf","ngIfElse"],[1,"bottom"],[1,"score",3,"formGroup","ngSubmit"],["formControlName","calidad","role","calidad","thumbLabel","","tickInterval","1","step","1","min","1","max","10","aria-label","units",3,"displayWith"],["formControlName","dificultad","thumbLabel","","tickInterval","1","step","1","min","1","max","10","aria-label","units",3,"displayWith"],["mat-button","","mat-dialog-close",""],["type","submit","mat-raised-button","","color","primary","mat-dialog-close","",3,"click"],["no_evidence",""],[1,"evidence","sect"],["width","90%",3,"src"],[1,"red"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"div",2),t.TgZ(6,"h3"),t._uU(7,"Encargado: "),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",2),t.TgZ(11,"h3"),t._uU(12,"Descripci\xf3n del Problema:"),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA(),t.qZA(),t.TgZ(15,"div",2),t.TgZ(16,"h3"),t._uU(17,"Soluci\xf3n: "),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.qZA(),t.qZA(),t.YNc(20,I,4,1,"div",3),t.qZA(),t.TgZ(21,"div",4),t.TgZ(22,"form",5),t.NdJ("ngSubmit",function(){return o.calificarServicio()}),t.TgZ(23,"h2"),t._uU(24,"Puntaje:"),t.qZA(),t.TgZ(25,"p"),t._uU(26,"Calidad:"),t.qZA(),t._UZ(27,"mat-slider",6),t.TgZ(28,"p"),t._uU(29,"Dificultad:"),t.qZA(),t._UZ(30,"mat-slider",7),t.qZA(),t.TgZ(31,"button",8),t._uU(32,"Cerrar"),t.qZA(),t.TgZ(33,"button",9),t.NdJ("click",function(){return o.calificarServicio()}),t._uU(34,"Guardar"),t.qZA(),t.qZA(),t.YNc(35,P,3,0,"ng-template",null,10,t.W1O),t.qZA()),2&e){const a=t.MAs(36);t.xp6(3),t.Oqu(o.data.report.title),t.xp6(6),t.Oqu(o.data.assignedTo.name),t.xp6(5),t.hij(" ",o.data.description,""),t.xp6(5),t.Oqu(o.data.solution),t.xp6(1),t.Q6J("ngIf",!o.data.evidenceImage.includes("no-image.jpg"))("ngIfElse",a),t.xp6(2),t.Q6J("formGroup",o.RegisForm),t.xp6(5),t.Q6J("displayWith",o.formatLabel),t.xp6(3),t.Q6J("displayWith",o.formatLabel)}},directives:[g.O5,d._Y,d.JL,d.sg,N.pH,d.JJ,d.u,v.lW,l.ZT],styles:["mat-slider[_ngcontent-%COMP%]{width:80%}.sect[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-weight:500;margin-bottom:0}.sect[_ngcontent-%COMP%]{margin-bottom:15px}.score[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:0;font-weight:500}.red[_ngcontent-%COMP%]{font-weight:500;color:brown}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}"]}),i})();function k(i,n){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"div",5),t.TgZ(2,"h4"),t._uU(3,"Descripci\xf3n del Problema:"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"h4"),t._uU(8,"Soluci\xf3n: "),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ",e.data.description,""),t.xp6(5),t.Oqu(e.data.solution)}}function F(i,n){if(1&i&&(t.TgZ(0,"div",10),t.TgZ(1,"h4"),t._uU(2,"Evidencia:"),t.qZA(),t._UZ(3,"img",11),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("src",e.data.evidenceImage,t.LSH)}}let b=(()=>{class i{constructor(e,o,a,s,m,T){this.socketWebService=e,this.router=o,this.registraUsuarioService=a,this.fb=s,this.dialogRef=m,this.data=T,this.RegisForm=this.fb.group({calidad:d.kI.required,dificultad:d.kI.required})}ngOnInit(){}calificarServicio(){this.grade={dificulty:this.RegisForm.value.dificultad,quality:this.RegisForm.value.calidad},console.log(this.grade),this.socketWebService.calificarServicio(this.grade,this.data._id),window.location.reload()}formatLabel(e){return e>=1e3?Math.round(e/1e3)+"k":e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.m),t.Y36(p.F0),t.Y36(y.j),t.Y36(d.qu),t.Y36(l.so),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-modal-detalles"]],decls:47,vars:11,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"sect","sub"],[1,"sect"],[4,"ngIf"],["class","evidence sect",4,"ngIf"],["mat-dialog-actions","",1,"actions"],["mat-button","","mat-dialog-close",""],[1,"evidence","sect"],["width","90%",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"h4"),t._uU(7,"Categoria:"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"div",4),t.TgZ(11,"h4"),t._uU(12,"Fecha y hora:"),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",5),t.TgZ(16,"h4"),t._uU(17,"Descripci\xf3n:"),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",3),t.TgZ(21,"div",4),t.TgZ(22,"h4"),t._uU(23,"Departamento:"),t.qZA(),t.TgZ(24,"p"),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"div",4),t.TgZ(27,"h4"),t._uU(28,"Ubicaci\xf3n:"),t.qZA(),t.TgZ(29,"p"),t._uU(30),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",3),t.TgZ(32,"div",4),t.TgZ(33,"h4"),t._uU(34,"Encargado: "),t.qZA(),t.TgZ(35,"p"),t._uU(36),t.qZA(),t.qZA(),t.TgZ(37,"div",4),t.TgZ(38,"h4"),t._uU(39,"Estatus:"),t.qZA(),t.TgZ(40,"p"),t._uU(41),t.qZA(),t.qZA(),t.qZA(),t.YNc(42,k,11,2,"div",6),t.YNc(43,F,4,1,"div",7),t.qZA(),t.TgZ(44,"div",8),t.TgZ(45,"button",9),t._uU(46,"Cerrar"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.hij("",o.data.report.title," "),t.xp6(7),t.Oqu(o.data.report.category),t.xp6(5),t.AsE("",o.data.createdAt.toString().slice(0,10),", ",o.data.createdAt.toString().slice(11,16),""),t.xp6(5),t.Oqu(o.data.report.description),t.xp6(6),t.Oqu(o.data.report.department.name),t.xp6(5),t.Oqu(o.data.report.department.ubication),t.xp6(6),t.Oqu(o.data.assignedTo.name),t.xp6(5),t.Oqu(o.data.status),t.xp6(1),t.Q6J("ngIf","Finalizado"==o.data.status),t.xp6(1),t.Q6J("ngIf",!o.data.evidenceImage.includes("no-image.jpg")))},directives:[l.uh,l.xY,g.O5,l.H8,v.lW,l.ZT],styles:[".sect[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}h2[_ngcontent-%COMP%]{margin-bottom:0}.assign[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-self:flex-end}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:95%;justify-content:space-between}h1[_ngcontent-%COMP%]{font-size:42px;font-weight:600;margin-top:32px}h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:32px}.actions[_ngcontent-%COMP%]{align-self:flex-end}"]}),i})();var w=c(7508),h=c(4594),M=c(8833),Z=c(6688),O=c(7238),H=c(3874);function J(i,n){1&i&&(t.TgZ(0,"th",20),t._uU(1," Titulo "),t.qZA())}function E(i,n){if(1&i&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.report.title," ")}}function Q(i,n){1&i&&(t.TgZ(0,"th",20),t._uU(1," Departamento "),t.qZA())}function R(i,n){if(1&i&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.report.department.name," ")}}function j(i,n){1&i&&(t.TgZ(0,"th",20),t._uU(1," Status "),t.qZA())}function B(i,n){if(1&i&&(t.TgZ(0,"td",22),t.TgZ(1,"mat-chip",23),t._uU(2),t.qZA(),t.qZA()),2&i){const e=n.$implicit;t.xp6(2),t.hij(" ",e.status," ")}}function L(i,n){1&i&&(t.TgZ(0,"th",20),t._uU(1," Categoria "),t.qZA())}function $(i,n){if(1&i&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.report.category," ")}}function W(i,n){1&i&&(t.TgZ(0,"th",20),t._uU(1,"Acciones"),t.qZA())}function z(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"a",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).calificar(a)}),t.TgZ(1,"mat-icon"),t._uU(2,"assignment_turned_in"),t.qZA(),t.qZA()}}function X(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"a",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).asignar(a)}),t.TgZ(1,"mat-icon"),t._uU(2,"assignment_ind"),t.qZA(),t.qZA()}}function G(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",24),t.TgZ(1,"a",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).detalles(s)}),t.TgZ(2,"mat-icon"),t._uU(3,"assignment"),t.qZA(),t.qZA(),t.YNc(4,z,3,0,"a",26),t.YNc(5,X,3,0,"a",27),t.qZA()}if(2&i){const e=n.$implicit;t.xp6(4),t.Q6J("ngIf",!1===e.isRanked&&"Finalizado"===e.status),t.xp6(1),t.Q6J("ngIf","Sin Asignar"===e.status)}}function V(i,n){1&i&&t._UZ(0,"tr",30)}function K(i,n){1&i&&t._UZ(0,"tr",31)}function tt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Filter"),t.qZA(),t.TgZ(4,"input",6,7),t.NdJ("keyup",function(a){return t.CHM(e),t.oxw().applyFilter(a)}),t.qZA(),t.qZA(),t.TgZ(6,"table",8),t.ynx(7,9),t.YNc(8,J,2,0,"th",10),t.YNc(9,E,2,1,"td",11),t.BQk(),t.ynx(10,12),t.YNc(11,Q,2,0,"th",10),t.YNc(12,R,2,1,"td",13),t.BQk(),t.ynx(13,14),t.YNc(14,j,2,0,"th",10),t.YNc(15,B,3,1,"td",13),t.BQk(),t.ynx(16,15),t.YNc(17,L,2,0,"th",10),t.YNc(18,$,2,1,"td",13),t.BQk(),t.ynx(19,16),t.YNc(20,W,2,0,"th",10),t.YNc(21,G,6,2,"td",17),t.BQk(),t.YNc(22,V,1,0,"tr",18),t.YNc(23,K,1,0,"tr",19),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("dataSource",e.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function et(i,n){1&i&&(t.TgZ(0,"div",32),t.TgZ(1,"div",33),t.TgZ(2,"i"),t._uU(3,"\u2713"),t.qZA(),t.qZA(),t.TgZ(4,"h2"),t._uU(5,"\xa1Sin Reportes!"),t.qZA(),t.qZA())}let it=(()=>{class i{constructor(e,o,a,s){this.socketWebService=e,this.ServicesByStatusService=o,this.dialog=a,this.serviciosServices=s,this.UserSite_selected="Carlos Castillo",this.Severities_selected="Alta",this.notEmpty=!1,this.displayedColumns=["Titulo","Departamento","Status","Categoria","Acciones"],this.ELEMENT_DATA_TABLE=this.serviciosServices.servicios,this.dataSource=new r.by(this.ELEMENT_DATA_TABLE)}ngOnInit(){this.serviciosServices.getServicios().subscribe(e=>{this.dataSource.data=e,console.log(this.dataSource.data.length)})}get _Users(){return this.ServicesByStatusService.DataTable}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}asignar(e){this.dialog.open(q,{width:"40%",height:"70%",data:e}),console.log(e)}calificar(e){this.dialog.open(U,{height:"600px",width:"450px",data:e}),console.log(e)}detalles(e){this.dialog.open(b,{height:"600px",width:"450px",data:e}),console.log(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.m),t.Y36(f.R),t.Y36(l.uw),t.Y36(w.C))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-servicios-hoy"]],decls:9,vars:2,consts:[[1,"contenedor"],[1,"example-spacer"],["class","reports",4,"ngIf","ngIfElse"],["no_reports",""],[1,"reports"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z5",3,"dataSource"],["matColumnDef","Titulo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","negrita ",4,"matCellDef"],["matColumnDef","Departamento"],["mat-cell","",4,"matCellDef"],["matColumnDef","Status"],["matColumnDef","Categoria"],["matColumnDef","Acciones"],["mat-cell","","style","text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"negrita"],["mat-cell",""],["color","primary","selected",""],["mat-cell","",2,"text-align","left"],["matTooltip","Ver Detalles",1,"pointer",2,"color","orange",3,"click"],["class","pointer","style","color:green;","matTooltip","Calificar Servicio",3,"click",4,"ngIf"],["class","pointer","style","color:blue;","matTooltip","Asignar",3,"click",4,"ngIf"],["matTooltip","Calificar Servicio",1,"pointer",2,"color","green",3,"click"],["matTooltip","Asignar",1,"pointer",2,"color","blue",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-reports"],[1,"circle"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span"),t._uU(3,"Servicios Hoy"),t.qZA(),t._UZ(4,"span",1),t.qZA(),t.YNc(5,tt,24,3,"div",2),t._UZ(6,"br"),t.qZA(),t.YNc(7,et,6,0,"ng-template",null,3,t.W1O)),2&e){const a=t.MAs(8);t.xp6(5),t.Q6J("ngIf",o.dataSource.data.length>0)("ngIfElse",a)}},directives:[h.Ye,g.O5,u.KE,u.hX,M.Nt,r.BZ,r.w1,r.fO,r.ge,r.Dz,r.ev,Z.HS,O.gM,H.Hw,r.as,r.XQ,r.nj,r.Gk],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:15px}th[_ngcontent-%COMP%]{width:10%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.Fondo[_ngcontent-%COMP%]{background:#303030}.select[_ngcontent-%COMP%]{margin-top:2%;margin-right:1%;width:25%}.negrita[_ngcontent-%COMP%]{font-weight:700}.no-reports[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.circle[_ngcontent-%COMP%]{margin:50px;padding:45px;overflow:hidden;height:400px;width:400px;background-color:#2f7d33;border-radius:50%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#e7ecef}.circle[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:350px;font-weight:900}h2[_ngcontent-%COMP%]{font-size:36px}.title[_ngcontent-%COMP%]{transition:all .1s ease-in}.title[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer;color:#303030;font-size:16px}"]}),i})(),ot=(()=>{class i{constructor(e,o){this.serviciosServices=e,this.router=o}ngOnInit(){}goTo(e){this.router.navigate(["dashboard","servicios",e])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(w.C),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-servicios"]],decls:15,vars:1,consts:[[1,"example-spacer"],["aria-label","Dog selection"],["color","warn","selected","",3,"click"],[2,"background-color","white","color","red"],["color","primary","selected","",3,"click"],["src","https://www.pngitem.com/pimgs/m/307-3074531_history-icon-png-blue-png-download-transparent-png.png","alt","history",1,"history"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-toolbar"),t.TgZ(1,"span"),t.TgZ(2,"b"),t._uU(3,"SERVICIOS"),t.qZA(),t.qZA(),t._UZ(4,"span",0),t.TgZ(5,"mat-chip-list",1),t.TgZ(6,"mat-chip",2),t.NdJ("click",function(){return o.goTo("hoy")}),t.TgZ(7,"mat-chip-avatar",3),t._uU(8),t.qZA(),t._uU(9," Hoy "),t.qZA(),t.TgZ(10,"mat-chip",4),t.NdJ("click",function(){return o.goTo("historial")}),t.TgZ(11,"mat-chip-avatar"),t._UZ(12,"img",5),t.qZA(),t._uU(13," Historial "),t.qZA(),t.qZA(),t.qZA(),t._UZ(14,"router-outlet")),2&e&&(t.xp6(8),t.hij(" ",o.serviciosServices.getLength()," "))},directives:[h.Ye,Z.qn,Z.HS,Z.EC,p.lC],styles:[".today[_ngcontent-%COMP%], .history[_ngcontent-%COMP%]{height:100%}"]}),i})();var nt=c(2340),at=c(1224);function st(i,n){if(1&i&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function ct(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Titulo "),t.qZA())}function rt(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.report.title," ")}}function lt(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Usuario "),t.qZA())}function dt(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.user.name," ")}}function mt(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Status "),t.qZA())}function pt(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.status," ")}}function gt(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Asignado A "),t.qZA())}function ut(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.assignedTo.name," ")}}function _t(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Nivel de importancia "),t.qZA())}function Zt(i,n){if(1&i&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.severity," ")}}function ft(i,n){1&i&&(t.TgZ(0,"th",22),t._uU(1," Acciones "),t.qZA())}function vt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"a",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().calificar(a)}),t.TgZ(1,"mat-icon"),t._uU(2,"assignment_turned_in"),t.qZA(),t.qZA()}}function ht(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"a",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().asignar(a)}),t.TgZ(1,"mat-icon"),t._uU(2,"assignment_ind"),t.qZA(),t.qZA()}}function Tt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"td",24),t.TgZ(1,"a",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().detalles(s)}),t.TgZ(2,"mat-icon"),t._uU(3,"assignment"),t.qZA(),t.qZA(),t.YNc(4,vt,3,0,"a",26),t.YNc(5,ht,3,0,"a",27),t.qZA()}if(2&i){const e=n.$implicit;t.xp6(4),t.Q6J("ngIf",!1===e.isRanked&&"Finalizado"===e.status),t.xp6(1),t.Q6J("ngIf","Sin Asignar"===e.status)}}function Ct(i,n){1&i&&t._UZ(0,"tr",30)}function At(i,n){1&i&&t._UZ(0,"tr",31)}function St(i,n){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-paginador",32),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("totalResults",e.TotalResultados)("limitProducts",20)("value",e.status_selected)}}const xt=[{path:"",component:ot,children:[{path:"hoy",component:it},{path:"historial",component:(()=>{class i{constructor(e,o,a,s){this.dialog=e,this.ServicesByStatusService=o,this.activatedRoute=a,this.router=s,this.status_selected="not-assigned",this.Cargando=!1,this.PaginaActual=1,this.TotalResultados=0,this.ELEMENT_DATA_TABLE=this._Users,this.displayedColumns=["Titulo","Usuario","Status","Asignado","Nivel","Acciones"],this.dataSource=new r.by(this.ELEMENT_DATA_TABLE)}ngOnInit(){this.cargarStatus(),this.activatedRoute.queryParams.subscribe(e=>{this.PaginaActual=e.page?e.page:1,this.status_selected=e.value?e.value:"assigned",console.log(e.page+"     "+e.value),this._getInitServices(this.status_selected,this.PaginaActual)})}get _Users(){return this.ServicesByStatusService.DataTable}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}_getInitServices(e,o){this.Cargando=!0,this.ServicesByStatusService.Get_ServicesAPI(e,o).subscribe(a=>{console.log(a);const s=nt.N.baseURL;this.dataSource.data=a.services,this.dataSource.data.forEach(m=>{"Sin Asignar"==m.status&&(m.assignedTo={name:""}),m.evidenceImage=`${s}/api/images/services/${m.evidenceImage}`}),this.TotalResultados=a.totalResults,this.Cargando=!1})}cambioStatus(e){this.router.navigateByUrl(`dashboard/servicios/historial?page=1&value=${e}`),console.log(e)}cargarStatus(){this.ServicesByStatusService.Get_StatusAPI().subscribe(e=>{this.Levels=e.status})}calificar(e){this.dialog.open(U,{height:"600px",width:"450px",data:e}),console.log(e)}detalles(e){this.dialog.open(b,{height:"600px",width:"450px",data:e}),console.log(e)}asignar(e){this.dialog.open(q,{width:"30%",height:"80%",data:e}),console.log(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.uw),t.Y36(f.R),t.Y36(p.gz),t.Y36(p.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-servicios-historial"]],decls:38,vars:6,consts:[[1,"contenedor"],[1,"example-spacer"],["appearance","fill",1,"select"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z5",3,"dataSource"],["matColumnDef","Titulo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Usuario"],["matColumnDef","Status"],["matColumnDef","Asignado"],["matColumnDef","Nivel"],["matColumnDef","Acciones"],["mat-cell","","style","text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"text-align","left"],["matTooltip","Ver Detalles",1,"pointer",2,"color","orange",3,"click"],["class","pointer","style","color:green;","matTooltip","Calificar Servicio",3,"click",4,"ngIf"],["class","pointer","style","color:blue;","matTooltip","Asignar",3,"click",4,"ngIf"],["matTooltip","Calificar Servicio",1,"pointer",2,"color","green",3,"click"],["matTooltip","Asignar",1,"pointer",2,"color","blue",3,"click"],["mat-header-row",""],["mat-row",""],[3,"totalResults","limitProducts","value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span"),t._uU(3,"Servicios Historial"),t.qZA(),t._UZ(4,"span",1),t.TgZ(5,"mat-form-field",2),t.TgZ(6,"mat-label"),t._uU(7,"SELECCIONE POR STATUS"),t.qZA(),t.TgZ(8,"mat-select",3),t.NdJ("valueChange",function(s){return o.status_selected=s})("valueChange",function(s){return o.cambioStatus(s)}),t.YNc(9,st,2,2,"mat-option",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"mat-form-field",5),t.TgZ(11,"mat-label"),t._uU(12,"Filter"),t.qZA(),t.TgZ(13,"input",6,7),t.NdJ("keyup",function(s){return o.applyFilter(s)}),t.qZA(),t.qZA(),t.TgZ(15,"table",8),t.TgZ(16,"div"),t.ynx(17,9),t.YNc(18,ct,2,0,"th",10),t.YNc(19,rt,2,1,"td",11),t.BQk(),t.ynx(20,12),t.YNc(21,lt,2,0,"th",10),t.YNc(22,dt,2,1,"td",11),t.BQk(),t.ynx(23,13),t.YNc(24,mt,2,0,"th",10),t.YNc(25,pt,2,1,"td",11),t.BQk(),t.ynx(26,14),t.YNc(27,gt,2,0,"th",10),t.YNc(28,ut,2,1,"td",11),t.BQk(),t.ynx(29,15),t.YNc(30,_t,2,0,"th",10),t.YNc(31,Zt,2,1,"td",11),t.BQk(),t.ynx(32,16),t.YNc(33,ft,2,0,"th",10),t.YNc(34,Tt,6,2,"td",17),t.BQk(),t.qZA(),t.YNc(35,Ct,1,0,"tr",18),t.YNc(36,At,1,0,"tr",19),t.qZA(),t.YNc(37,St,2,3,"div",20),t.qZA()),2&e&&(t.xp6(8),t.Q6J("value",o.status_selected),t.xp6(1),t.Q6J("ngForOf",o.Levels),t.xp6(6),t.Q6J("dataSource",o.dataSource),t.xp6(20),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",!o.Cargando))},directives:[h.Ye,u.KE,u.hX,S.gD,g.sg,x.ey,M.Nt,r.BZ,r.w1,r.fO,r.ge,r.Dz,r.ev,O.gM,H.Hw,g.O5,r.as,r.XQ,r.nj,r.Gk,at.V],styles:["table[_ngcontent-%COMP%]{width:100%;margin-top:15px;margin-bottom:20px}th[_ngcontent-%COMP%]{width:10%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.Fondo[_ngcontent-%COMP%]{background:#303030}.select[_ngcontent-%COMP%]{margin-top:2%;margin-right:1%;width:25%}"]}),i})()},{path:"",redirectTo:"hoy"}]}];let qt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.Bz.forChild(xt)],p.Bz]}),i})();var yt=c(8201);let Ut=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[g.ez,qt,yt.h]]}),i})()}}]);